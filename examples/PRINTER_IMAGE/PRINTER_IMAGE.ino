/*
  Please install the following dependent libraries before compiling:
  M5Atom: https://github.com/m5stack/M5Atom
  FastLED: https://github.com/FastLED/FastLED
*/

#include <M5Atom.h>
#include "ATOM_PRINTER.h"
#include "bitmap.h"

ATOM_PRINTER printer;

// https://m5stack.lang-ship.com/tools/image2data/?format=1bit_2
unsigned char img[128] PROGMEM = {
0b11111111, 0b11111111, 0b11111111, 0b11111111,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000111, 0b00000111, 0b00011111, 0b11000001,
0b10000111, 0b00000111, 0b00010000, 0b00000001,
0b10000111, 0b10000111, 0b00010000, 0b00000001,
0b10000111, 0b10001111, 0b00010000, 0b00000001,
0b10000110, 0b10001011, 0b00011111, 0b00000001,
0b10000110, 0b11011011, 0b00000001, 0b10000001,
0b10000110, 0b01110011, 0b00000000, 0b11000001,
0b10000110, 0b01110011, 0b00000000, 0b11000001,
0b10000110, 0b00100011, 0b00000000, 0b11000001,
0b10000110, 0b00000011, 0b00000000, 0b11000001,
0b10000110, 0b00000011, 0b00100001, 0b10000001,
0b10000110, 0b00000011, 0b00011111, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b10000000, 0b00000000, 0b00000000, 0b00000001,
0b11111111, 0b11111111, 0b11111111, 0b11111111,
};

void setup() {
    M5.begin(true, false, true);
    printer.begin();
    M5.dis.drawpix(0, 0x00ffff);
    printer.init();
    printer.newLine(2);
}

void loop() {
  printer.init();
  printer.printASCII("Hello M5stack");
  printer.newLine(2);
  printer.init();
  printer.printBMP(0, 32, 32, img);
  printer.newLine(3);
  delay(30000);
}
